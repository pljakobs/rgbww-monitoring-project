---
modules:
  mqtt_bridge:
    url: 'http://rgbww-mqtt-json-bridge:8001/metrics.json'
    metrics:
      - name: rgbww_heap_free_bytes
        type: value
        help: Free heap memory in bytes (from MQTT bridge)
        path: '$.devices[*]'
        value: '{.freeHeap}'
        labels:
          deviceid: '{.id}'

      - name: rgbww_uptime_seconds
        type: value
        help: Device uptime in seconds (from MQTT bridge)
        path: '$.devices[*]'
        value: '{.uptime}'
        labels:
          deviceid: '{.id}'